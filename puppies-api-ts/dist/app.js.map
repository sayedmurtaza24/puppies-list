{"version":3,"file":"app.js","sourceRoot":"","sources":["../app.ts"],"names":[],"mappings":"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","sourcesContent":["import express from 'express';\nimport { Request, Response, Application } from 'express';\nimport puppies, { Puppy } from './db';\nimport cors from 'cors';\n\nconst app: Application = express();\n\napp.use(cors());\napp.use(express.json());\n\n// - GET: `api/puppies`. This should return a list of all puppies in JSON-format.\napp.get('/api/puppies', (_req: Request, res: Response) => {\n  return res.json(puppies);\n});\n\n// - GET: `api/puppies/:id`. This should return one puppy in JSON-format.\napp.get('/api/puppies/:id', (req: Request, res: Response) => {\n  return res.json(puppies.find(puppy => `${puppy.id}` === req.params.id));\n});\n\n// - POST: `api/puppies`. This should create and return the newly added puppy.\napp.post('/api/puppies', (req: Request, res: Response) => {\n  const puppy: Puppy = {\n    id: puppies.reduce((a, b) => b.id > a.id ? b : a).id + 1,\n    breed: req.body.breed,\n    name: req.body.name,\n    dob: new Date(req.body.dob),\n  }\n  puppies.push(puppy);\n  return res.status(201).json(puppy);\n});\n\n// - PUT: `api/puppies/:id`. This should put one puppy down (jk, just update the specific puppy).\napp.put(\"/api/puppies/:id\", (req: Request, res: Response) => {\n  const puppyIndex = puppies.findIndex(puppy => `${puppy.id}` === req.params.id);\n  const { name, dob, breed } = req.body;\n  puppies[puppyIndex] = { id: Number(req.params.id), name, dob: new Date(dob), breed };\n  return res.json(puppies[puppyIndex]);\n});\n\n// - DELETE: `api/puppies/:id`. This should actually put one puppy down aka delete it.\napp.delete('/api/puppies/:id', (req: Request, res: Response) => {\n  const puppyIndex = puppies.findIndex(puppy => `${puppy.id}` === req.params.id);\n  if (puppyIndex > -1) {\n    return res.json(puppies.splice(puppyIndex, 1));\n  } else {\n    return res.status(404).json({ message: \"Not found\" });\n  }\n});\n\nexport default app;\n"]}